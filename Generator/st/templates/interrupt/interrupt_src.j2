#include "main.h"
#include "{{ family }}_it.h"

/* Extern handles used by IRQs */
{%- for d in dma_irqs %}
extern DMA_HandleTypeDef {{ d.handle }};
{%- endfor %}
{%- for t in tim_irq_bases %}
extern TIM_HandleTypeDef h{{ t.lower() }};
{%- endfor %}

void SysTick_Handler(void)
{
  HAL_IncTick();
}

{%- for d in dma_irqs %}
void {{ d.name }}_{{ d.stream }}_IRQHandler(void)
{
  HAL_DMA_IRQHandler(&{{ d.handle }});
}
{%- endfor %}

{%- for t in tim_irq_bases %}
void {{ t }}_IRQHandler(void)
{
  HAL_TIM_IRQHandler(&h{{ t.lower() }});
}
{%- endfor %}

