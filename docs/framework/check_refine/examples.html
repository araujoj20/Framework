<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Examples â€“ Check &amp; Refine</title>
		<link rel="stylesheet" href="../style.css" />
	</head>
	<body>
		<main>
			<h1>Before &amp; After Examples</h1>
			<p>Concrete transformations produced during refinement.</p>
			<h2>Timer Channel Derivation</h2>
			<pre>// Raw
"TIM4": {
	"request":"TIM4_CH3"
}
// Refined
"TIM4": {
	"request": "TIM4_CH3",
	"channel": "Channel3",
	"master_output_trigger": "RESET",
	"master_slave_mode": "DISABLE",
	"counter_mode": "UP",
	"auto_reload_preload": "DISABLE"
	}</pre>
			<h2>Invalid Channel Removed</h2>
			<pre>// Raw
"TIM3": {
	"request": "TIM3_CH5"
	}
// Result: TIM3 removed (No request "TIM3_CH3" for TIM3)</pre>
			<h2>Slave Mode Dependency Failure</h2>
			<pre>// Raw
"TIM2": {
	"request": "TIM2_CH1",
	"slave_mode": "GATED"
	}
// Result: TIM2 removed (missing trigger_source)</pre>
			<h2>Numeric Clamping</h2>
			<pre>// Raw
"TIM2": {
	"request": "TIM2_CH1",
	"period": 100000,
	"prescaler": 70000
	}
// Refined (assuming 16-bit period)
"TIM2": {
	"request": "TIM2_CH1",
	"channel": "Channel1",
	"period": 65535,
	"prescaler": 65535,
	...}</pre>
			<h2>DMA Auto-Selection</h2>
			<pre>// Raw
"dmas": {
	"tim2_ch1": {
		"request":"TIM2_CH1",
		"direction":"PERIPH_TO_MEMORY"
		}
	}
// Refined (example mapping chosen)
"dmas": {
	"tim2_ch1": {
		"request": "TIM2_CH1",
		"direction": "PERIPH_TO_MEMORY",
		"dma": "DMA1",
		"stream": "Stream0",
		"channel": Channel3,
		}
	}</pre>
			<h2>Pruned Unused DMA</h2>
			<pre>// Raw
"dmas": {
	"dma_test": {
		"request": "TIM2_CH2",
		"direction": "PERIPH_TO_MEMORY"
		}
	}
// If no timer uses TIM2_CH2 => removed</pre>
			<h2>Overwrite Ordering</h2>
			<pre>// Raw
"TIM2_OW_2": {
	"request": "TIM2_CH1"
	}
"TIM2_OW_1": {
	"request": "TIM2_CH2"
	}
// Refined ordering ensures _OW_1 before _OW_2 (both validated)</pre>
			<h2>Interrupt Auto Handler</h2>
			<pre>// Raw
"TIM3": {
	"request": "TIM3_CH1",
	"interrupt": "ENABLE"
	}
// Refined
"TIM3": {
	"request":"TIM3_CH1",
	"channel": "Channel1",
	"interrupt":"ENABLE",
	"irq_handler":"ENABLE",
	...
	}
</pre>
			<h2>Memory to Memory Constraints</h2>
			<pre>// Raw
"dmas": {
	"copy": {
		"request":"TIM2_CH1",
		"direction":"MEMORY_TO_MEMORY",
		"channel": "Channel5"
		}
	}
// Result: removed (requires channel 0)</pre>
			<footer>Examples scaffold.</footer>
		</main>
	</body>
</html>
